<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 4 â€” ê¸°íšì•ˆ ì´ì •ë¦¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #FFFFFF;
            color: #000000;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        .sidebar {
            width: 300px;
            background-color: #f8f8f8;
            border-right: 2px solid #e0e0e0;
            overflow-y: auto;
            padding: 20px 0;
        }

        .sidebar-header {
            padding: 0 20px 20px;
            border-bottom: 2px solid #A56744;
            margin-bottom: 20px;
        }

        .sidebar-header h1 {
            font-size: 20px;
            font-weight: bold;
            color: #A56744;
        }

        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 40px 60px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .hero-section {
            text-align: center;
            margin-bottom: 60px;
            padding: 40px 20px;
            background: linear-gradient(135deg, #A56744 0%, #8d5739 100%);
            border-radius: 16px;
            color: white;
        }

        .hero-title {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .hero-subtitle {
            font-size: 18px;
            opacity: 0.95;
        }

        .content-header {
            margin-bottom: 40px;
        }

        .content-header h2 {
            font-size: 28px;
            color: #A56744;
            margin-bottom: 10px;
        }

        .content-header p {
            font-size: 14px;
            color: #666;
        }

        /* ì•„ì½”ë””ì–¸ */
        .accordion {
            margin-bottom: 20px;
        }

        .accordion-item {
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 15px;
            background-color: #fff;
        }

        .accordion-header {
            background-color: #f5f5f5;
            padding: 20px 25px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .accordion-header:hover {
            background-color: #ebebeb;
        }

        .accordion-header.active {
            background-color: #A56744;
            color: white;
        }

        .accordion-title {
            font-size: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .accordion-icon {
            font-size: 24px;
        }

        .accordion-arrow {
            font-size: 20px;
            transition: transform 0.3s;
        }

        .accordion-header.active .accordion-arrow {
            transform: rotate(180deg);
        }

        .accordion-content {
            display: none;
            padding: 30px 25px;
            background-color: #fafafa;
        }

        .accordion-content.active {
            display: block;
        }

        .section-description {
            background-color: #fff5e6;
            border-left: 4px solid #A56744;
            padding: 15px 20px;
            margin-bottom: 25px;
            border-radius: 6px;
        }

        .section-description h4 {
            color: #A56744;
            font-size: 16px;
            margin-bottom: 8px;
        }

        .section-description p {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }

        .structure-tag {
            display: inline-block;
            background-color: #e3f2fd;
            color: #1976d2;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            margin-right: 8px;
            margin-top: 8px;
        }

        .example-box {
            background-color: #f0f0f0;
            border-left: 4px solid #4CAF50;
            padding: 15px 20px;
            margin-top: 15px;
            border-radius: 6px;
        }

        .example-box h5 {
            color: #4CAF50;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .example-box p {
            font-size: 13px;
            color: #555;
            line-height: 1.6;
        }

        /* ìƒì„±ëœ ì½˜í…ì¸  */
        .generated-content {
            background-color: #ffffff;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .generated-label {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #4CAF50;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .generated-text {
            font-size: 15px;
            line-height: 1.8;
            color: #333;
        }

        .editable-text {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 15px;
            font-family: inherit;
            line-height: 1.8;
            resize: vertical;
            min-height: 150px;
        }

        .editable-text:focus {
            outline: none;
            border-color: #A56744;
        }

        .char-counter {
            text-align: right;
            font-size: 12px;
            color: #999;
            margin-top: 5px;
        }

        /* ë²„íŠ¼ */
        .btn {
            padding: 12px 30px;
            border: 2px solid #A56744;
            background-color: #A56744;
            color: #000000;
            border-radius: 25px;
            cursor: pointer;
            font-size: 15px;
            font-weight: bold;
            transition: all 0.3s;
            border: none;
        }

        .btn:hover:not(:disabled) {
            background-color: #8d5739;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-secondary {
            background-color: #FFFFFF;
            color: #000000;
            border: 2px solid #A56744;
        }

        .btn-secondary:hover {
            background-color: #f5f5f5;
        }

        .btn-generate {
            background-color: #4CAF50;
            color: #FFFFFF;
        }

        .btn-generate:hover {
            background-color: #45a049;
        }

        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .action-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            padding-top: 30px;
            border-top: 2px solid #e0e0e0;
        }

        .save-status {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border-radius: 20px;
            font-size: 13px;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
        }

        .save-status.show {
            opacity: 1;
        }

        .note {
            padding: 15px;
            background-color: #fff5e6;
            border-left: 4px solid #A56744;
            margin-bottom: 30px;
            font-size: 14px;
            color: #666;
        }

        /* í…Œì´ë¸” */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 12px;
            border: 1px solid #e0e0e0;
            text-align: left;
        }

        .comparison-table th {
            background-color: #f5f5f5;
            font-weight: bold;
            color: #A56744;
        }

        .comparison-table td {
            background-color: #fff;
        }

        /* ë¡œë”© ì˜¤ë²„ë ˆì´ */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .loading-overlay.active {
            display: flex;
        }

        .loading-content {
            background-color: white;
            padding: 40px;
            border-radius: 16px;
            text-align: center;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #A56744;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .subsection {
            margin-bottom: 25px;
        }

        .subsection h4 {
            color: #A56744;
            font-size: 16px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <h1>Module 4 â€” ê¸°íšì•ˆ</h1>
        </div>
    </div>

    <div class="main-content">
        <!-- Hero Section -->
        <div class="hero-section">
            <div class="hero-title">HOOKìœ¼ë¡œ ì¡ê³ , Loglineìœ¼ë¡œ ì„¤ë“í•©ë‹ˆë‹¤</div>
            <div class="hero-subtitle">ë‹¹ì‹ ì˜ ìŠ¤í† ë¦¬ë¥¼ ì™„ì„±ëœ ê¸°íšì•ˆìœ¼ë¡œ</div>
        </div>

        <div class="content-header">
            <h2>9ë‹¨ê³„: ê¸°íšì•ˆ ì´ì •ë¦¬</h2>
            <p>Module 1~3ì˜ ëª¨ë“  ë‚´ìš©ì„ ë¶„ì„í•˜ì—¬ íˆ¬ììë¥¼ ì„¤ë“í•  ìˆ˜ ìˆëŠ” ê¸°íšì•ˆì„ ì™„ì„±í•©ë‹ˆë‹¤.</p>
        </div>

        <div class="note">
            â€» 1~5ë²ˆ í•­ëª©ì€ Gemini PROê°€ ì´ì „ ë‹¨ê³„ì˜ ë‚´ìš©ì„ ë¶„ì„í•˜ì—¬ ìë™ ìƒì„±í•©ë‹ˆë‹¤.
            ìƒì„±ëœ ë‚´ìš©ì€ ììœ ë¡­ê²Œ ìˆ˜ì • ê°€ëŠ¥í•©ë‹ˆë‹¤. 6ë²ˆ ê°ë…ì˜ ì˜ë„ëŠ” ì§ì ‘ ì‘ì„±í•´ì£¼ì„¸ìš”.
        </div>

        <div class="button-group">
            <button class="btn btn-generate" onclick="autoGenerateAll()">
                ğŸ¤– AIë¡œ 1~5ë²ˆ í•­ëª© ìë™ ìƒì„±
            </button>
        </div>

        <!-- ì•„ì½”ë””ì–¸ ì„¹ì…˜ -->
        <div class="accordion" style="margin-top: 40px;">
            <!-- 1. Hook -->
            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(0)">
                    <div class="accordion-title">
                        <span class="accordion-icon">ğŸ£</span>
                        <span>1. Hook (1ì¤„)</span>
                    </div>
                    <span class="accordion-arrow">â–¼</span>
                </div>
                <div class="accordion-content">
                    <div class="section-description">
                        <h4>Hookì´ë€?</h4>
                        <p>ê°ì •ê³¼ ê´€ì‹¬ì„ ì¦‰ì‹œ ë¶™ì¡ëŠ” í•œ ì¤„ í€ì¹˜ë¼ì¸ì…ë‹ˆë‹¤.</p>
                        <div style="margin-top: 10px;">
                            <span class="structure-tag">ê°ì •</span>
                            <span class="structure-tag">ì»¨ì…‰</span>
                            <span class="structure-tag">ì°¨ë³„ì </span>
                        </div>
                    </div>

                    <div class="example-box">
                        <h5>ğŸ“Œ ë¶€ì‚°í–‰ ì˜ˆì‹œ</h5>
                        <p>"ì¢€ë¹„ê°€ í¼ì§„ í•œêµ­, ì—´ì°¨ ì•ˆì—ì„œ ìƒì¡´ ì „ìŸì´ ì‹œì‘ëœë‹¤"</p>
                    </div>

                    <div class="generated-content" style="margin-top: 20px;">
                        <div class="generated-label">
                            <span>ğŸ¤–</span>
                            <span>AI ìƒì„± Hook</span>
                        </div>
                        <textarea class="editable-text" id="hook" placeholder="AIê°€ ìë™ ìƒì„±í•  Hookì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤..."
                            oninput="saveData(); updateCharCount('hook', 'hookCount', 200)" maxlength="200"></textarea>
                        <div class="char-counter" id="hookCount">0 / 200</div>
                    </div>
                </div>
            </div>

            <!-- 2. Logline -->
            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(1)">
                    <div class="accordion-title">
                        <span class="accordion-icon">ğŸ“</span>
                        <span>2. Logline (3ì¤„)</span>
                    </div>
                    <span class="accordion-arrow">â–¼</span>
                </div>
                <div class="accordion-content">
                    <div class="section-description">
                        <h4>Loglineì´ë€?</h4>
                        <p>ì˜í™”ì˜ í•µì‹¬ ì¤„ê±°ë¦¬ì™€ êµ¬ì¡°ë¥¼ ì§§ê²Œ ì„¤ëª…í•©ë‹ˆë‹¤.</p>
                        <div style="margin-top: 10px;">
                            <span class="structure-tag">ì£¼ì¸ê³µ</span>
                            <span class="structure-tag">ëª©í‘œ</span>
                            <span class="structure-tag">ê°ˆë“±</span>
                            <span class="structure-tag">Stakes(ê²°ê³¼)</span>
                        </div>
                    </div>

                    <div class="example-box">
                        <h5>ğŸ“Œ ë¶€ì‚°í–‰ ì˜ˆì‹œ</h5>
                        <p>"ì´í˜¼ ìœ„ê¸°ì˜ ì•„ë¹ ì™€ ë”¸ì€ ì„œìš¸ë°œ ë¶€ì‚°í–‰ KTXì— íƒ‘ìŠ¹í•œë‹¤. ê·¸ëŸ¬ë‚˜ ì¢€ë¹„ ë°”ì´ëŸ¬ìŠ¤ê°€ í¼ì§€ë©° ì—´ì°¨ëŠ” ì§€ì˜¥ì´ ë˜ê³ , ê·¸ë“¤ì€ ëê¹Œì§€ ì‚´ì•„ë‚¨ì•„ì•¼ í•œë‹¤."</p>
                    </div>

                    <div class="generated-content" style="margin-top: 20px;">
                        <div class="generated-label">
                            <span>ğŸ¤–</span>
                            <span>AI ìƒì„± Logline</span>
                        </div>
                        <textarea class="editable-text" id="logline" placeholder="AIê°€ ìë™ ìƒì„±í•  Loglineì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤..."
                            oninput="saveData(); updateCharCount('logline', 'loglineCount', 500)" maxlength="500"></textarea>
                        <div class="char-counter" id="loglineCount">0 / 500</div>
                    </div>
                </div>
            </div>

            <!-- 3. Synopsis -->
            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(2)">
                    <div class="accordion-title">
                        <span class="accordion-icon">ğŸ“–</span>
                        <span>3. Synopsis</span>
                    </div>
                    <span class="accordion-arrow">â–¼</span>
                </div>
                <div class="accordion-content">
                    <div class="section-description">
                        <h4>Synopsisë€?</h4>
                        <p>ìŠ¤í† ë¦¬ ì „ì²´ì˜ íë¦„ì„ ì‹œê°„ ìˆœì„œëŒ€ë¡œ í•µì‹¬ ì‚¬ê±´ë§Œ ì••ì¶•í•œ ìš”ì•½ë³¸ì…ë‹ˆë‹¤.</p>
                        <div style="margin-top: 10px;">
                            <span class="structure-tag">ì‹œì‘</span>
                            <span class="structure-tag">ì „ê°œ</span>
                            <span class="structure-tag">í´ë¼ì´ë§¥ìŠ¤</span>
                            <span class="structure-tag">ê²°ë§</span>
                        </div>
                        <p style="margin-top: 10px; font-size: 13px;">ê°ì • í¬ì¸íŠ¸, ê´€ê³„ ë³€í™”, ì£¼ì¸ê³µ ì•„ì¹˜ê°€ í•œëˆˆì— ë³´ì´ë„ë¡ 1500ì ì´ë‚´ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.</p>
                    </div>

                    <div class="subsection">
                        <h4>[ì£¼ì¸ê³µ ì†Œê°œ]</h4>
                        <textarea class="editable-text" id="synopsis-intro"
                            placeholder="ì£¼ì¸ê³µì˜ ì´ˆê¸° ìƒíƒœì™€ ì¼ìƒì„ ì†Œê°œí•©ë‹ˆë‹¤..."
                            oninput="saveData()" style="min-height: 100px;"></textarea>
                    </div>

                    <div class="subsection">
                        <h4>[ëª©í‘œ]</h4>
                        <textarea class="editable-text" id="synopsis-goal"
                            placeholder="ì£¼ì¸ê³µì´ ì´ë£¨ê³ ì í•˜ëŠ” ëª©í‘œë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤..."
                            oninput="saveData()" style="min-height: 100px;"></textarea>
                    </div>

                    <div class="subsection">
                        <h4>[ê°ˆë“± & ì¥ì• ë¬¼]</h4>
                        <textarea class="editable-text" id="synopsis-conflict"
                            placeholder="ì£¼ì¸ê³µì´ ê²ªëŠ” ê°ˆë“±ê³¼ ê·¹ë³µí•´ì•¼ í•  ì¥ì• ë¬¼ì„ ì„¤ëª…í•©ë‹ˆë‹¤..."
                            oninput="saveData()" style="min-height: 100px;"></textarea>
                    </div>

                    <div class="subsection">
                        <h4>[ê²°ë§ íŒíŠ¸]</h4>
                        <textarea class="editable-text" id="synopsis-ending"
                            placeholder="ì´ì•¼ê¸°ì˜ ê²°ë§ê³¼ ì£¼ì¸ê³µì˜ ë³€í™”ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤..."
                            oninput="saveData()" style="min-height: 100px;"></textarea>
                    </div>
                </div>
            </div>

            <!-- 4. ìºë¦­í„° ì•„ì¹˜ -->
            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(3)">
                    <div class="accordion-title">
                        <span class="accordion-icon">ğŸ“Š</span>
                        <span>4. ìºë¦­í„° ì•„ì¹˜ (ë³€í™” ê³¡ì„ )</span>
                    </div>
                    <span class="accordion-arrow">â–¼</span>
                </div>
                <div class="accordion-content">
                    <div class="section-description">
                        <h4>ìºë¦­í„° ì•„ì¹˜ë€?</h4>
                        <p>ìºë¦­í„°ê°€ ë³€í™”í•˜ëŠ” ëª¨ìŠµì„ ê°„ë‹¨íˆ ê·¸ë¦° ìš”ì•½ë³¸ì…ë‹ˆë‹¤.</p>
                    </div>

                    <div class="subsection">
                        <h4>[ì´ˆê¸° ìƒíƒœ]</h4>
                        <textarea class="editable-text" id="arch-initial"
                            placeholder="ìºë¦­í„°ì˜ ì´ˆê¸° ìƒíƒœ, ì‹ ë…, ê²°í•¨ì„ ì„¤ëª…í•©ë‹ˆë‹¤..."
                            oninput="saveData()" style="min-height: 100px;"></textarea>
                    </div>

                    <div class="subsection">
                        <h4>[ë„ì „ í˜¹ì€ ê°ˆë“±]</h4>
                        <textarea class="editable-text" id="arch-challenge"
                            placeholder="ìºë¦­í„°ê°€ ì§ë©´í•˜ëŠ” ë„ì „ê³¼ ê°ˆë“±ì„ ì„¤ëª…í•©ë‹ˆë‹¤..."
                            oninput="saveData()" style="min-height: 100px;"></textarea>
                    </div>

                    <div class="subsection">
                        <h4>[ë³€í™˜ì ]</h4>
                        <textarea class="editable-text" id="arch-turning"
                            placeholder="ìºë¦­í„°ê°€ ë³€í™”í•˜ê²Œ ë˜ëŠ” ê²°ì •ì  ìˆœê°„ì„ ì„¤ëª…í•©ë‹ˆë‹¤..."
                            oninput="saveData()" style="min-height: 100px;"></textarea>
                    </div>

                    <div class="subsection">
                        <h4>[ìµœì¢… ìƒíƒœ]</h4>
                        <textarea class="editable-text" id="arch-final"
                            placeholder="ë³€í™” í›„ ìºë¦­í„°ì˜ ìµœì¢… ìƒíƒœë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤..."
                            oninput="saveData()" style="min-height: 100px;"></textarea>
                    </div>
                </div>
            </div>

            <!-- 5. ì‹œì¥ì„±/íƒ€ê²Ÿ/ê²½ìŸì‘ ë¹„êµ -->
            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(4)">
                    <div class="accordion-title">
                        <span class="accordion-icon">ğŸ’°</span>
                        <span>5. ì‹œì¥ì„± / íƒ€ê²Ÿ / ê²½ìŸì‘ ë¹„êµ</span>
                    </div>
                    <span class="accordion-arrow">â–¼</span>
                </div>
                <div class="accordion-content">
                    <div class="section-description">
                        <h4>ì‹œì¥ ë¶„ì„</h4>
                        <p>íˆ¬ììë¥¼ ì„¤ë“í•˜ê¸° ìœ„í•œ ì‹œì¥ì„±, íƒ€ê²Ÿì¸µ, ê²½ìŸì‘ ë¶„ì„ì…ë‹ˆë‹¤.</p>
                    </div>

                    <div class="example-box">
                        <h5>ğŸ“Œ ë¶€ì‚°í–‰ ì˜ˆì‹œ</h5>
                        <table class="comparison-table">
                            <tr>
                                <th>í•­ëª©</th>
                                <th>ë‚´ìš©</th>
                            </tr>
                            <tr>
                                <td><strong>ì‹œì¥ì„±</strong></td>
                                <td>í•œêµ­í˜• ì¢€ë¹„ ì¥ë¥´ëŠ” í¬ì†Œí•˜ê³ , ê°ì • ë“œë¼ë§ˆ ì¤‘ì‹¬ ìƒì¡´ë¬¼ì€ ì•„ì‹œì•„ ì‹œì¥ì—ì„œ ìˆ˜ìš”ê°€ ë†’ìŒ</td>
                            </tr>
                            <tr>
                                <td><strong>íƒ€ê²Ÿ</strong></td>
                                <td>10ëŒ€ í›„ë°˜ ~ 40ëŒ€ ë‚¨ë…€ / ë„·í”Œë¦­ìŠ¤, ê·¹ì¥ ìŠ¤ë¦´ëŸ¬ ì„ í˜¸ì¸µ</td>
                            </tr>
                            <tr>
                                <td><strong>ê²½ìŸì‘ ë¹„êµ</strong></td>
                                <td>&lt;ë¶€ì‚°í–‰&gt;, &lt;í‚¹ë¤&gt;, &lt;28 Days Later&gt;</td>
                            </tr>
                            <tr>
                                <td><strong>ì°¨ë³„ì </strong></td>
                                <td>KTXë¼ëŠ” ì œí•œëœ ê³µê°„ / ì•„ë²„ì§€-ë”¸ ê°ì •ì„  ê°•ì¡° / ì´ë™í˜• ìƒì¡´ êµ¬ì¡°</td>
                            </tr>
                        </table>
                    </div>

                    <div class="subsection" style="margin-top: 25px;">
                        <h4>[ì‹œì¥ì„±] - ì™œ ëˆì´ ë˜ëŠ”ê°€</h4>
                        <textarea class="editable-text" id="market-potential"
                            placeholder="ì¥ë¥´ì˜ ì‹œì¥ì„±ê³¼ ìˆ˜ìµ ê°€ëŠ¥ì„±ì„ ì„¤ëª…í•©ë‹ˆë‹¤..."
                            oninput="saveData()" style="min-height: 100px;"></textarea>
                    </div>

                    <div class="subsection">
                        <h4>[íƒ€ê²Ÿ ì—°ë ¹/ì„±ë³„ì¸µ] - ëˆ„ê°€ ëˆì„ ì“¸ ê²ƒì¸ê°€</h4>
                        <textarea class="editable-text" id="market-target"
                            placeholder="ì£¼ìš” íƒ€ê²Ÿ ê´€ê°ì¸µì„ ì„¤ëª…í•©ë‹ˆë‹¤..."
                            oninput="saveData()" style="min-height: 100px;"></textarea>
                    </div>

                    <div class="subsection">
                        <h4>[ê²½ìŸì‘ ë¹„êµ] - ì™œ ì„±ê³µí•  ê°€ëŠ¥ì„±ì´ ìˆëŠ”ê°€</h4>
                        <textarea class="editable-text" id="market-competition"
                            placeholder="ìœ ì‚¬ ì‘í’ˆë“¤ê³¼ì˜ ë¹„êµ ë° ì°¨ë³„ì ì„ ì„¤ëª…í•©ë‹ˆë‹¤..."
                            oninput="saveData()" style="min-height: 100px;"></textarea>
                    </div>
                </div>
            </div>

            <!-- 6. ê°ë…ì˜ ì˜ë„ -->
            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(5)">
                    <div class="accordion-title">
                        <span class="accordion-icon">ğŸ¬</span>
                        <span>6. ê°ë…ì˜ ì˜ë„ (Director's Statement)</span>
                    </div>
                    <span class="accordion-arrow">â–¼</span>
                </div>
                <div class="accordion-content">
                    <div class="section-description">
                        <h4>ê°ë…ì˜ ì˜ë„ë€?</h4>
                        <p>ì‘í’ˆì„ í†µí•´ ì „ë‹¬í•˜ê³ ì í•˜ëŠ” ë©”ì‹œì§€, ì—°ì¶œ ë°©í–¥, ì˜ˆìˆ ì  ë¹„ì „ì„ ì„¤ëª…í•©ë‹ˆë‹¤.</p>
                        <p style="margin-top: 8px; color: #d32f2f; font-weight: bold;">â€» ì´ ì„¹ì…˜ì€ ì§ì ‘ ì‘ì„±í•´ì£¼ì„¸ìš” (5000ì ì´ë‚´)</p>
                    </div>

                    <div class="subsection">
                        <textarea class="editable-text" id="director-statement"
                            placeholder="ì‘í’ˆì„ ë§Œë“¤ê²Œ ëœ ë™ê¸°, ì „ë‹¬í•˜ê³ ì í•˜ëŠ” ë©”ì‹œì§€, ì—°ì¶œ ìŠ¤íƒ€ì¼, ê´€ê°ì—ê²Œ ì „ë‹¬í•˜ê³  ì‹¶ì€ ê°ì • ë“±ì„ ììœ ë¡­ê²Œ ì‘ì„±í•˜ì„¸ìš”..."
                            oninput="saveData(); updateCharCount('director-statement', 'directorCount', 5000)"
                            maxlength="5000" style="min-height: 300px;"></textarea>
                        <div class="char-counter" id="directorCount">0 / 5000</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì•¡ì…˜ ë²„íŠ¼ -->
        <div class="action-buttons">
            <div class="button-group">
                <button class="btn btn-secondary" onclick="alert('Module 3ì˜ 8ë‹¨ê³„ë¡œ ì´ë™')">ì´ì „ìœ¼ë¡œ</button>
            </div>
            <div class="button-group">
                <button class="btn btn-secondary" onclick="downloadFinalWord()">
                    ğŸ“¥ ìµœì¢… ê¸°íšì•ˆ ë‹¤ìš´ë¡œë“œ (ì „ì²´ í†µí•©)
                </button>
                <button class="btn" onclick="alert('ê¸°íšì•ˆ ì œì‘ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!')">ì™„ë£Œ</button>
            </div>
        </div>
    </div>

    <!-- ë¡œë”© ì˜¤ë²„ë ˆì´ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <h3 style="color: #A56744; margin-bottom: 10px;">AI ë¶„ì„ ì¤‘...</h3>
            <p style="color: #666;">Gemini PROê°€ ì´ì „ ë‹¨ê³„ì˜ ë‚´ìš©ì„ ë¶„ì„í•˜ì—¬ ê¸°íšì•ˆì„ ì‘ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
        </div>
    </div>

    <!-- ì €ì¥ ìƒíƒœ -->
    <div class="save-status" id="saveStatus">ìë™ ì €ì¥ë¨</div>

    <script src="https://cdn.jsdelivr.net/npm/docx@7.8.2/build/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>

    <script>
        let workflowData = {
            hook: '',
            logline: '',
            synopsis: {
                intro: '',
                goal: '',
                conflict: '',
                ending: ''
            },
            characterArch: {
                initial: '',
                challenge: '',
                turning: '',
                final: ''
            },
            market: {
                potential: '',
                target: '',
                competition: ''
            },
            directorStatement: ''
        };

        // ì´ˆê¸°í™”
        function init() {
            loadData();
            restoreAllData();
        }

        // ì•„ì½”ë””ì–¸ í† ê¸€
        function toggleAccordion(index) {
            const items = document.querySelectorAll('.accordion-item');
            const header = items[index].querySelector('.accordion-header');
            const content = items[index].querySelector('.accordion-content');

            header.classList.toggle('active');
            content.classList.toggle('active');
        }

        // ê¸€ì ìˆ˜ ì¹´ìš´í„°
        function updateCharCount(fieldId, counterId, maxLength) {
            const field = document.getElementById(fieldId);
            const counter = document.getElementById(counterId);
            if (field && counter) {
                counter.textContent = `${field.value.length} / ${maxLength}`;
            }
            saveData();
        }

        // AI ìë™ ìƒì„±
        async function autoGenerateAll() {
            if (!confirm('Gemini PROê°€ Module 1~3ì˜ ë‚´ìš©ì„ ë¶„ì„í•˜ì—¬ Hook, Logline, Synopsis, ìºë¦­í„° ì•„ì¹˜, ì‹œì¥ì„± ë¶„ì„ì„ ìë™ ìƒì„±í•©ë‹ˆë‹¤. ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                return;
            }

            const overlay = document.getElementById('loadingOverlay');
            overlay.classList.add('active');

            // ì‹œë®¬ë ˆì´ì…˜: 3ì´ˆ í›„ ìƒì„± ì™„ë£Œ
            setTimeout(() => {
                // Hook ìƒì„± (ì˜ˆì‹œ)
                document.getElementById('hook').value = 'ì‘ì€ ë³„ì—ì„œ ì˜¨ ì™•ìê°€ ì§€êµ¬ì—ì„œ ë°œê²¬í•˜ëŠ” ì§„ì§œ ì‚¬ë‘ì˜ ì˜ë¯¸';
                updateCharCount('hook', 'hookCount', 200);

                // Logline ìƒì„± (ì˜ˆì‹œ)
                document.getElementById('logline').value = 'ì–´ë¦° ì™•ìëŠ” ìì‹ ì˜ ë³„ì— ìˆëŠ” ì¥ë¯¸ë¥¼ ë– ë‚˜ ì—¬ëŸ¬ ë³„ì„ ì—¬í–‰í•œë‹¤. ì§€êµ¬ì— ë„ì°©í•œ ê·¸ëŠ” ì—¬ìš°ë¥¼ ë§Œë‚˜ "ê¸¸ë“¤ì„"ì˜ ì˜ë¯¸ë¥¼ ë°°ìš°ê³ , ì§„ì •í•œ ì‚¬ë‘ì€ ì±…ì„ê°ì—ì„œ ë¹„ë¡¯ëœë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹«ëŠ”ë‹¤. ê·¸ë¦¬ê³  ìì‹ ì˜ ë³„ë¡œ ëŒì•„ê°€ê¸°ë¡œ ê²°ì‹¬í•œë‹¤.';
                updateCharCount('logline', 'loglineCount', 500);

                // Synopsis ìƒì„± (ì˜ˆì‹œ)
                document.getElementById('synopsis-intro').value = 'ì–´ë¦° ì™•ìëŠ” ì‘ì€ ì†Œí–‰ì„± B-612ì—ì„œ í™€ë¡œ ì‚´ì•„ê°„ë‹¤. ê·¸ì˜ ë³„ì—ëŠ” íŠ¹ë³„í•œ ì¥ë¯¸ í•œ ì†¡ì´ê°€ ìˆë‹¤. í•˜ì§€ë§Œ ì¥ë¯¸ì˜ í—ˆì˜ê³¼ ê¹Œë‹¤ë¡œì›€ì— ì§€ì¹œ ì–´ë¦° ì™•ìëŠ” ì—¬í–‰ì„ ë– ë‚˜ê¸°ë¡œ ê²°ì‹¬í•œë‹¤.';
                document.getElementById('synopsis-goal').value = 'ì–´ë¦° ì™•ìëŠ” ë‹¤ë¥¸ ë³„ë“¤ì„ ë°©ë¬¸í•˜ë©° ì–´ë¥¸ë“¤ì˜ ì„¸ê³„ë¥¼ ì´í•´í•˜ê³ , ì§„ì •í•œ ì‚¬ë‘ê³¼ ìš°ì •ì˜ ì˜ë¯¸ë¥¼ ì°¾ê³ ì í•œë‹¤.';
                document.getElementById('synopsis-conflict').value = 'ì—¬í–‰ ì¤‘ ë§Œë‚œ ê¶Œë ¥ì— ì§‘ì°©í•˜ëŠ” ì™•, í—ˆì˜ì‹¬ì— ê°€ë“ ì°¬ ì‚¬ëŒ, ìˆ ê¾¼, ì‚¬ì—…ê°€ ë“±ì€ ëª¨ë‘ ë³¸ì§ˆì„ ìƒê³  ì‚´ì•„ê°„ë‹¤. ì–´ë¦° ì™•ìëŠ” ê·¸ë“¤ì˜ ê³µí—ˆí•¨ì„ ëª©ê²©í•˜ë©° í˜¼ë€ìŠ¤ëŸ¬ì›Œí•œë‹¤.';
                document.getElementById('synopsis-ending').value = 'ì§€êµ¬ì—ì„œ ë§Œë‚œ ì—¬ìš°ëŠ” ì–´ë¦° ì™•ìì—ê²Œ "ê¸¸ë“¤ì¸ë‹¤ëŠ” ê²ƒ"ì˜ ì˜ë¯¸ë¥¼ ê°€ë¥´ì³ì¤€ë‹¤. ì–´ë¦° ì™•ìëŠ” ìì‹ ì˜ ì¥ë¯¸ê°€ íŠ¹ë³„í•œ ì´ìœ ë¥¼ ê¹¨ë‹«ê³ , ì±…ì„ê°ì„ ê°–ê³  ëŒì•„ê°€ê¸°ë¡œ ê²°ì‹¬í•œë‹¤.';

                // ìºë¦­í„° ì•„ì¹˜ ìƒì„± (ì˜ˆì‹œ)
                document.getElementById('arch-initial').value = 'ìˆœìˆ˜í•˜ì§€ë§Œ ë¯¸ìˆ™í•œ ì–´ë¦° ì™•ì. ì¥ë¯¸ì˜ ì‚¬ë‘ì„ ì´í•´í•˜ì§€ ëª»í•˜ê³  ë„ë§ì¹œë‹¤.';
                document.getElementById('arch-challenge').value = 'ì—¬ëŸ¬ ë³„ì„ ì—¬í–‰í•˜ë©° ì–´ë¥¸ë“¤ì˜ ì´ìƒí•œ ì„¸ê³„ë¥¼ ê²½í—˜í•œë‹¤. ë³¸ì§ˆì„ ìƒê³  ì‚´ì•„ê°€ëŠ” ì‚¬ëŒë“¤ì„ ë³´ë©° í˜¼ë€ìŠ¤ëŸ¬ì›Œí•œë‹¤.';
                document.getElementById('arch-turning').value = 'ì—¬ìš°ë¥¼ ë§Œë‚˜ "ê¸¸ë“¤ì„"ì˜ ì˜ë¯¸ë¥¼ ë°°ìš´ë‹¤. "ë„¤ê°€ ë„¤ ì¥ë¯¸ì—ê²Œ ì“´ ì‹œê°„ì´ ë„¤ ì¥ë¯¸ë¥¼ ê·¸í† ë¡ ì†Œì¤‘í•˜ê²Œ ë§Œë“  ê±°ì•¼."';
                document.getElementById('arch-final').value = 'ì„±ìˆ™í•´ì§„ ì–´ë¦° ì™•ì. ì‚¬ë‘ì€ ì±…ì„ê°ì´ë©°, ìì‹ ì˜ ì¥ë¯¸ë¥¼ ëŒë´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹«ëŠ”ë‹¤.';

                // ì‹œì¥ì„± ë¶„ì„ ìƒì„± (ì˜ˆì‹œ)
                document.getElementById('market-potential').value = 'ê°€ì¡± ê´€ê°ì„ ëŒ€ìƒìœ¼ë¡œ í•œ ê°ì„± ì• ë‹ˆë©”ì´ì…˜ ì‹œì¥ì€ ì§€ì†ì ìœ¼ë¡œ ì„±ì¥ ì¤‘. ì² í•™ì  ë©”ì‹œì§€ì™€ ë³´í¸ì  ì£¼ì œë¡œ ì „ ì—°ë ¹ëŒ€ì— ì†Œêµ¬ ê°€ëŠ¥.';
                document.getElementById('market-target').value = 'ì´ˆë“±í•™ìƒ~ì¤‘í•™ìƒ ìë…€ë¥¼ ë‘” ê°€ì¡± ë‹¨ìœ„ ê´€ê° / 20~30ëŒ€ ê°ì„± ì• ë‹ˆë©”ì´ì…˜ ì„ í˜¸ì¸µ / í•´ì™¸ ì‹œì¥: ì›ì‘ì˜ ê¸€ë¡œë²Œ ì¸ì§€ë„ í™œìš© ê°€ëŠ¥';
                document.getElementById('market-competition').value = 'ê²½ìŸì‘: <ë¦¬í‹€ í”„ë¦°ìŠ¤>, <ì„¼ê³¼ ì¹˜íˆë¡œì˜ í–‰ë°©ë¶ˆëª…>, <ì—…>\nì°¨ë³„ì : ì² í•™ì  ë©”ì‹œì§€ì™€ ì‹œê°ì  ì•„ë¦„ë‹¤ì›€ì˜ ì¡°í™” / ì›ì‘ì˜ ê¸€ë¡œë²Œ íŒ¬ì¸µ í™•ë³´ / ì–´ë¥¸ê³¼ ì•„ì´ ëª¨ë‘ì—ê²Œ ë‹¤ë¥¸ ê°ë™ ì œê³µ';

                overlay.classList.remove('active');
                alert('AI ìë™ ìƒì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‚´ìš©ì„ í™•ì¸í•˜ê³  ììœ ë¡­ê²Œ ìˆ˜ì •í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
                saveData();
            }, 3000);
        }

        // ë°ì´í„° ì €ì¥
        function saveData() {
            workflowData.hook = document.getElementById('hook')?.value || '';
            workflowData.logline = document.getElementById('logline')?.value || '';

            workflowData.synopsis.intro = document.getElementById('synopsis-intro')?.value || '';
            workflowData.synopsis.goal = document.getElementById('synopsis-goal')?.value || '';
            workflowData.synopsis.conflict = document.getElementById('synopsis-conflict')?.value || '';
            workflowData.synopsis.ending = document.getElementById('synopsis-ending')?.value || '';

            workflowData.characterArch.initial = document.getElementById('arch-initial')?.value || '';
            workflowData.characterArch.challenge = document.getElementById('arch-challenge')?.value || '';
            workflowData.characterArch.turning = document.getElementById('arch-turning')?.value || '';
            workflowData.characterArch.final = document.getElementById('arch-final')?.value || '';

            workflowData.market.potential = document.getElementById('market-potential')?.value || '';
            workflowData.market.target = document.getElementById('market-target')?.value || '';
            workflowData.market.competition = document.getElementById('market-competition')?.value || '';

            workflowData.directorStatement = document.getElementById('director-statement')?.value || '';

            localStorage.setItem('videoWorkflowData_module4', JSON.stringify(workflowData));
            showSaveStatus();
        }

        // ë°ì´í„° ë¡œë“œ
        function loadData() {
            const saved = localStorage.getItem('videoWorkflowData_module4');
            if (saved) {
                workflowData = JSON.parse(saved);
            }
        }

        // ë°ì´í„° ë³µì›
        function restoreAllData() {
            if (workflowData.hook) {
                document.getElementById('hook').value = workflowData.hook;
                updateCharCount('hook', 'hookCount', 200);
            }
            if (workflowData.logline) {
                document.getElementById('logline').value = workflowData.logline;
                updateCharCount('logline', 'loglineCount', 500);
            }
            if (workflowData.synopsis.intro) {
                document.getElementById('synopsis-intro').value = workflowData.synopsis.intro;
            }
            if (workflowData.synopsis.goal) {
                document.getElementById('synopsis-goal').value = workflowData.synopsis.goal;
            }
            if (workflowData.synopsis.conflict) {
                document.getElementById('synopsis-conflict').value = workflowData.synopsis.conflict;
            }
            if (workflowData.synopsis.ending) {
                document.getElementById('synopsis-ending').value = workflowData.synopsis.ending;
            }
            if (workflowData.characterArch.initial) {
                document.getElementById('arch-initial').value = workflowData.characterArch.initial;
            }
            if (workflowData.characterArch.challenge) {
                document.getElementById('arch-challenge').value = workflowData.characterArch.challenge;
            }
            if (workflowData.characterArch.turning) {
                document.getElementById('arch-turning').value = workflowData.characterArch.turning;
            }
            if (workflowData.characterArch.final) {
                document.getElementById('arch-final').value = workflowData.characterArch.final;
            }
            if (workflowData.market.potential) {
                document.getElementById('market-potential').value = workflowData.market.potential;
            }
            if (workflowData.market.target) {
                document.getElementById('market-target').value = workflowData.market.target;
            }
            if (workflowData.market.competition) {
                document.getElementById('market-competition').value = workflowData.market.competition;
            }
            if (workflowData.directorStatement) {
                document.getElementById('director-statement').value = workflowData.directorStatement;
                updateCharCount('director-statement', 'directorCount', 5000);
            }
        }

        // ìµœì¢… ê¸°íšì•ˆ ë‹¤ìš´ë¡œë“œ
        async function downloadFinalWord() {
            alert('Module 1~4ì˜ ëª¨ë“  ë‚´ìš©ì„ í†µí•©í•˜ì—¬ ìµœì¢… ê¸°íšì•ˆ ì›Œë“œ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.');
            // ì‹¤ì œ êµ¬í˜„ ì‹œ docx ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ í†µí•© ë¬¸ì„œ ìƒì„±
        }

        function showSaveStatus() {
            const status = document.getElementById('saveStatus');
            status.classList.add('show');
            setTimeout(() => status.classList.remove('show'), 2000);
        }

        // ì´ˆê¸°í™”
        init();
    </script>
</body>
</html>